# iOS 실기기 테스트 가이드

> **목적**: Apps in Toss 샌드박스 앱을 통한 iOS 실기기 테스트 방법
> **앱 이름**: flowcoder-pptmaker
> **최종 업데이트**: 2025-11-06

---

## 📋 준비사항 체크리스트

### 1. 개발 환경
- [ ] 개발 서버 실행됨 (`npm run dev`)
- [ ] 네트워크 IP 확인: `192.168.0.23`
- [ ] 포트 확인: `3000`
- [ ] 같은 Wi-Fi 네트워크에 연결됨

### 2. Apps in Toss 콘솔
- [ ] [콘솔](https://apps-in-toss.toss.im/) 로그인
- [ ] 워크스페이스 및 앱 등록 완료
- [ ] 앱 ID: `flowcoder-pptmaker`
- [ ] 개발 URL 설정: `http://192.168.0.23:3000`

### 3. iOS 샌드박스 앱
- [ ] 샌드박스 앱 설치 (QR 코드 또는 직접 다운로드)
- [ ] iOS 16 이상
- [ ] 토스 비즈니스 계정으로 로그인 완료

---

## 🚀 테스트 시작하기

### 1단계: 개발 서버 실행

```bash
cd /Users/jerome/dev/APP_in_TOSS/projects/ppt-maker-in-toss
npm run dev
```

**서버 실행 확인:**
```
✓ Ready in XXXms
- Local:   http://localhost:3000
- Network: http://192.168.0.23:3000
```

### 2단계: 콘솔에서 개발 URL 설정

1. [Apps in Toss 콘솔](https://apps-in-toss.toss.im/) 접속
2. 워크스페이스 선택
3. `flowcoder-pptmaker` 앱 선택
4. 앱 설정 → 개발 URL 입력:
   ```
   http://192.168.0.23:3000
   ```
5. 저장

### 3단계: 샌드박스 앱에서 접속

**iOS 샌드박스 앱 실행:**

1. **개발자 로그인**
   - 좌측 상단 로그인 버튼
   - 토스 비즈니스 계정으로 로그인

2. **앱 선택**
   - 워크스페이스의 앱 목록에서 `flowcoder-pptmaker` 선택

3. **토스 인증**
   - 본인 인증 진행
   - 토스앱에서 푸시 승인

4. **스킴 입력**
   ```
   intoss://flowcoder-pptmaker
   ```

---

## 🧪 테스트 시나리오

### 기본 기능 테스트

#### 1. 홈 페이지 접근
- [ ] 홈 화면 정상 로드
- [ ] TDS Mobile 컴포넌트 정상 표시
- [ ] 네비게이션 작동

#### 2. AI 생성 테스트
- [ ] 프롬프트 입력
- [ ] "생성하기" 버튼 클릭
- [ ] 로딩 상태 표시
- [ ] 프리젠테이션 생성 완료
- [ ] 생성 시간 확인 (목표: < 3초)

#### 3. 템플릿 렌더링 테스트
- [ ] 생성된 슬라이드 표시
- [ ] 스와이프로 슬라이드 전환
- [ ] 줌/핀치 동작
- [ ] 렌더링 품질 확인

#### 4. 편집 기능 테스트
- [ ] 슬라이드 선택
- [ ] 텍스트 편집
- [ ] 실시간 미리보기
- [ ] 변경사항 저장
- [ ] 편집 시간 확인 (목표: < 100ms)

### 샌드박스 전용 테스트

#### 5. 토스페이 결제 테스트
- [ ] 결제 버튼 클릭
- [ ] 토스페이 화면 표시
- [ ] 결제 프로세스 완료
- [ ] 결제 결과 확인

#### 6. 인앱 결제 테스트 (Mock)
- [ ] 상품 목록 표시
- [ ] 상품 선택
- [ ] Mock 결제 완료
- [ ] 구매 완료 처리

---

## ⚠️ 주의사항

### HTTP 통신 허용

**샌드박스 환경:**
- ✅ `http://` 통신 가능
- 개발 URL: `http://192.168.0.23:3000`

**프로덕션 환경:**
- ❌ `http://` 통신 불가
- ✅ `https://`만 허용
- 실서비스 전 HTTPS 전환 필수

### 네트워크 요구사항

**필수:**
- 개발 서버와 iOS 기기가 **같은 Wi-Fi** 네트워크에 있어야 함
- IP 주소가 변경되면 콘솔 설정도 업데이트 필요

**IP 확인 방법:**
```bash
# Mac
ifconfig | grep "inet " | grep -v 127.0.0.1

# 또는
ipconfig getifaddr en0
```

### 테스트 불가능한 기능

샌드박스에서 테스트할 수 없는 기능:
- ❌ 인앱 광고 (실제 토스앱 필요)
- ❌ 분석 (Analytics)
- ❌ 게임 프로필 & 리더보드
- ❌ 공유 리워드
- ❌ 가로 버전 게임
- ❌ 내비게이션 바 공유하기

---

## 🐛 트러블슈팅

### 문제 1: 앱을 찾을 수 없음

**증상:**
```
intoss://flowcoder-pptmaker
앱을 찾을 수 없습니다
```

**해결:**
1. 콘솔에서 앱 ID 확인
2. 스킴 철자 확인
3. 개발자 로그인 상태 확인
4. 워크스페이스에 앱이 등록되었는지 확인

### 문제 2: 서버 연결 실패

**증상:**
```
서버에 연결할 수 없습니다
```

**해결:**
1. 개발 서버 실행 확인
   ```bash
   npm run dev
   ```

2. 네트워크 IP 확인
   ```bash
   ipconfig getifaddr en0
   ```

3. 콘솔 개발 URL 업데이트

4. 같은 Wi-Fi 연결 확인

### 문제 3: 페이지가 로드되지 않음

**증상:**
- 빈 화면 표시
- 무한 로딩

**해결:**
1. 개발 서버 콘솔 확인 (에러 메시지)
2. iOS Safari 개발자 도구 활용:
   - Mac의 Safari → 개발 → [iOS 기기] → [페이지]
3. `.next` 폴더 삭제 후 재시작:
   ```bash
   rm -rf .next
   npm run dev
   ```

### 문제 4: 토스 인증 실패

**증상:**
- 인증 화면이 뜨지 않음
- 푸시가 오지 않음

**해결:**
1. 샌드박스 앱에서 개발자 로그인 먼저 진행
2. 토스앱이 최신 버전인지 확인
3. 토스 비즈니스 계정 확인

### 문제 5: 샌드박스 앱 오류

**증상:**
- 앱이 크래시됨
- 기능이 작동하지 않음

**해결:**
1. 샌드박스 앱 삭제
2. 최신 버전 재설치
3. 정기적으로 업데이트 확인

---

## 📊 성능 목표

### AI 생성
- **목표**: < 3초 (Gemini Flash)
- **조사 포함**: < 10초 (Perplexity + Gemini)

### 템플릿 렌더링
- **목표**: < 100ms (12개 슬라이드)
- **단일 슬라이드**: < 10ms

### 편집 반응성
- **미리보기 업데이트**: < 100ms
- **저장**: < 50ms (LocalStorage)

### 네트워크
- **로컬 네트워크**: < 100ms
- **API 호출**: Gemini 기준

---

## 📚 참고 문서

### Apps in Toss 공식 문서
- [샌드박스 앱 가이드](https://developers-apps-in-toss.toss.im/development/test/sandbox.html)
- [콘솔 사용법](https://developers-apps-in-toss.toss.im/prepare/console-workspace.html)
- [Bedrock SDK](https://developers-apps-in-toss.toss.im/reference/bedrock)

### 프로젝트 문서
- [CLAUDE.md](../CLAUDE.md) - 프로젝트 개요
- [SPECIFICATION.md](./SPECIFICATION.md) - 기술 명세
- [IMPLEMENTATION_HISTORY.md](./IMPLEMENTATION_HISTORY.md) - 구현 히스토리
- [app/sandbox/claude.md](../app/sandbox/claude.md) - 웹 샌드박스 가이드

---

## ✅ 출시 전 체크리스트

### 필수 준비사항
- [ ] 샌드박스에서 모든 주요 기능 테스트 완료
- [ ] HTTP → HTTPS 전환 완료
- [ ] 개발 URL → 프로덕션 URL 변경
- [ ] 사업자 등록 완료
- [ ] 계약 체결 완료
- [ ] 앱 검수 통과

### 권장사항
- [ ] 여러 iOS 기기에서 테스트
- [ ] 다양한 네트워크 환경 테스트
- [ ] 성능 목표 달성 확인
- [ ] 에러 로깅 및 모니터링 설정

---

**문서 버전**: 1.0
**최종 업데이트**: 2025-11-06
**담당자**: 개발팀
