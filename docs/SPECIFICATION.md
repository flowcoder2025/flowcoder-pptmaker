# FlowCoder PPT Maker - ê¸°ìˆ  ëª…ì„¸ì„œ

> **ë²„ì „**: 2.0.0
> **ìµœì¢… ìˆ˜ì •**: 2025-11-07
> **ìƒíƒœ**: ì›¹ ì„œë¹„ìŠ¤ ì „í™˜ ì™„ë£Œ, êµ¬í˜„ ì§„í–‰ ì¤‘

---

## ëª©ì°¨

1. [í”„ë¡œì íŠ¸ ê°œìš”](#1-í”„ë¡œì íŠ¸-ê°œìš”)
2. [ê¸°ìˆ  ìŠ¤íƒ](#2-ê¸°ìˆ -ìŠ¤íƒ)
3. [ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜](#3-ì‹œìŠ¤í…œ-ì•„í‚¤í…ì²˜)
4. [ì¸ì¦ ì‹œìŠ¤í…œ](#4-ì¸ì¦-ì‹œìŠ¤í…œ)
5. [ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ](#5-ë°ì´í„°ë² ì´ìŠ¤-ìŠ¤í‚¤ë§ˆ)
6. [ê¶Œí•œ ì‹œìŠ¤í…œ](#6-ê¶Œí•œ-ì‹œìŠ¤í…œ)
7. [êµ¬ë… ë° í¬ë ˆë”§ ì‹œìŠ¤í…œ](#7-êµ¬ë…-ë°-í¬ë ˆë”§-ì‹œìŠ¤í…œ)
8. [í…œí”Œë¦¿ ì‹œìŠ¤í…œ ì„¤ê³„](#8-í…œí”Œë¦¿-ì‹œìŠ¤í…œ-ì„¤ê³„)
9. [ë°ì´í„° êµ¬ì¡°](#9-ë°ì´í„°-êµ¬ì¡°)
10. [API ì„¤ê³„](#10-api-ì„¤ê³„)
11. [AI íŒŒì´í”„ë¼ì¸](#11-ai-íŒŒì´í”„ë¼ì¸)
12. [ë””ìì¸ ì‹œìŠ¤í…œ](#12-ë””ìì¸-ì‹œìŠ¤í…œ)
13. [ì„±ëŠ¥ ìµœì í™”](#13-ì„±ëŠ¥-ìµœì í™”)
14. [ë³´ì•ˆ ë° ì—ëŸ¬ ì²˜ë¦¬](#14-ë³´ì•ˆ-ë°-ì—ëŸ¬-ì²˜ë¦¬)
15. [í–¥í›„ ê°œì„ ì‚¬í•­](#15-í–¥í›„-ê°œì„ ì‚¬í•­)
16. [ë¶€ë¡](#16-ë¶€ë¡)

---

## 1. í”„ë¡œì íŠ¸ ê°œìš”

### 1.1 ê°œìš”

FlowCoder PPT MakerëŠ” í…ìŠ¤íŠ¸ ì…ë ¥ìœ¼ë¡œ AI ê¸°ë°˜ í”„ë¦¬ì  í…Œì´ì…˜ì„ ìƒì„±í•˜ëŠ” ë…ë¦½ ì›¹ ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤. ê¸°ì¡´ Apps in Toss í”Œë«í¼ ì „ìš©ì—ì„œ Vercel + Supabase ê¸°ë°˜ì˜ í˜„ëŒ€ì ì¸ í’€ìŠ¤íƒ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ìœ¼ë¡œ ì „í™˜í•˜ì˜€ìŠµë‹ˆë‹¤.

### 1.2 í•µì‹¬ ê¸°ëŠ¥

- **ìì—°ì–´ ì…ë ¥**: í…ìŠ¤íŠ¸ ì…ë ¥ë§Œìœ¼ë¡œ í”„ë¦¬ì  í…Œì´ì…˜ êµ¬ì¡° ìë™ ìƒì„±
- **AI 3ë‹¨ê³„ íŒŒì´í”„ë¼ì¸**: Perplexity ìë£Œ ì¡°ì‚¬ â†’ Gemini ì½˜í…ì¸ +JSON ìƒì„± â†’ í…œí”Œë¦¿ ë Œë”ë§
- **í´ë¼ì´ì–¸íŠ¸ í…œí”Œë¦¿ ì‹œìŠ¤í…œ**: API ë¹„ìš© 98% ì ˆê° (100ì› â†’ 2ì›)
- **ì‹¤ì‹œê°„ í¸ì§‘**: ë¬´ë£Œ ë¬´ì œí•œ í¸ì§‘ ë° ë¯¸ë¦¬ë³´ê¸°
- **í…œí”Œë¦¿ ê°¤ëŸ¬ë¦¬**: ê¸°ë³¸ í…œí”Œë¦¿ + í”„ë¦¬ë¯¸ì—„ í…œí”Œë¦¿ íŒë§¤

### 1.3 í•µì‹¬ ê°€ì¹˜ ì œì•ˆ

| í•­ëª© | í˜„ì¬ | ê°œì„  í›„ | íš¨ê³¼ |
|------|------|---------|------|
| ì›ê°€ | 77-100ì›/íšŒ | 2ì›/íšŒ | **98% ì ˆê°** |
| í¸ì§‘ | ë¶ˆê°€ëŠ¥ | ë¬´ì œí•œ í¸ì§‘ | **ì‚¬ìš©ì ê²½í—˜ í–¥ìƒ** |
| í…œí”Œë¦¿ | 1ê°œ | ê¸°ë³¸ 4ê°œ + í”„ë¦¬ë¯¸ì—„ Nê°œ | **ìˆ˜ìµí™” ê°€ëŠ¥** |
| ë¯¸ë¦¬ë³´ê¸° | API í˜¸ì¶œ í•„ìš” | ì¦‰ì‹œ | **UX ê°œì„ ** |

---

## 2. ê¸°ìˆ  ìŠ¤íƒ

### 2.1 Frontend

| ì¹´í…Œê³ ë¦¬ | ê¸°ìˆ  | ë²„ì „ | ìš©ë„ |
|---------|------|------|------|
| Framework | Next.js | 16 | App Router ê¸°ë°˜ SSR |
| UI Library | React | 19 | ì»´í¬ë„ŒíŠ¸ ì‹œìŠ¤í…œ |
| Language | TypeScript | 5 | íƒ€ì… ì•ˆì •ì„± |
| State | Zustand | 5 | í´ë¼ì´ì–¸íŠ¸ ìƒíƒœ ê´€ë¦¬ |
| Styling | Tailwind CSS | 4 | ìœ í‹¸ë¦¬í‹° CSS |
| UI Components | shadcn/ui | - | Radix UI ê¸°ë°˜ ì»´í¬ë„ŒíŠ¸ |
| Radix UI | @radix-ui/* | - | ì ‘ê·¼ì„± ìš°ì„  UI í”„ë¦¬ë¯¸í‹°ë¸Œ |
| Icons | lucide-react | - | ì•„ì´ì½˜ ë¼ì´ë¸ŒëŸ¬ë¦¬ |
| Toast | react-hot-toast | - | ì•Œë¦¼ ë©”ì‹œì§€ |
| Build Tool | Turbopack | - | Next.js ë‚´ì¥ ë¹Œë“œ ë„êµ¬ |

### 2.2 Backend

| ì¹´í…Œê³ ë¦¬ | ê¸°ìˆ  | ìš©ë„ |
|---------|------|------|
| Database | Supabase PostgreSQL | ê´€ë¦¬í˜• PostgreSQL |
| ORM | Prisma | Type-safe DB í´ë¼ì´ì–¸íŠ¸ |
| Auth | NextAuth.js v4 | OAuth ì¸ì¦ (GitHub, Google) |
| Auth Adapter | @next-auth/prisma-adapter | Prisma ì—°ë™ |
| Permissions | Zanzibar (ìì²´ êµ¬í˜„) | Relationship-Based Access Control |
| Deployment | Vercel | ì„œë²„ë¦¬ìŠ¤ ë°°í¬ |

### 2.3 AI Services

| ì¹´í…Œê³ ë¦¬ | ê¸°ìˆ  | ìš©ë„ | ë¹„ìš© |
|---------|------|------|------|
| AI - ìë£Œ ì¡°ì‚¬ | Perplexity Sonar | ë¹ ë¥¸ ì›¹ ì¡°ì‚¬ | ~160ì› (ì„ íƒ) |
| AI - ìë£Œ ì¡°ì‚¬ | Perplexity Sonar Reasoning | ê¹Šì€ ë¶„ì„ | ~200ì› (ì„ íƒ) |
| AI - ì½˜í…ì¸ +JSON | Gemini 2.5 Flash/Pro | ì½˜í…ì¸ +JSON ìƒì„± | ~2ì› â­ |
| AI - íŒŒì‹± | ~~Gemini 2.5 Flash-Lite~~ | ~~JSON íŒŒì‹±~~ | ~~8ì›~~ (í†µí•©) |
| AI - HTML | ~~Gemini 2.5 Pro~~ | ~~HTML ìƒì„±~~ | ~~82ì›~~ (ì œê±°) |
| í…œí”Œë¦¿ | í´ë¼ì´ì–¸íŠ¸ ì—”ì§„ | HTML ìƒì„± | 0ì› â­ |

### 2.4 ê°œë°œ ë„êµ¬

- **íŒ¨í‚¤ì§€ ê´€ë¦¬**: npm
- **ì½”ë“œ í’ˆì§ˆ**: ESLint
- **íƒ€ì… ì²´í¬**: TypeScript Compiler
- **ë°ì´í„°ë² ì´ìŠ¤ ë§ˆì´ê·¸ë ˆì´ì…˜**: Prisma Migrate
- **í…ŒìŠ¤íŠ¸**: Jest, React Testing Library (í–¥í›„)
- **E2E í…ŒìŠ¤íŠ¸**: Playwright (í–¥í›„)

---

## 3. ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

### 3.1 í”„ë¡œì íŠ¸ êµ¬ì¡°

```
ppt-maker-next/
â”œâ”€â”€ app/                       # Next.js App Router
â”‚   â”œâ”€â”€ page.tsx               # í™ˆ í™”ë©´
â”‚   â”œâ”€â”€ input/page.tsx         # í…ìŠ¤íŠ¸ ì…ë ¥
â”‚   â”œâ”€â”€ viewer/page.tsx        # ìŠ¬ë¼ì´ë“œ ë·°ì–´
â”‚   â”œâ”€â”€ editor/page.tsx        # ìŠ¬ë¼ì´ë“œ í¸ì§‘
â”‚   â”œâ”€â”€ subscription/page.tsx  # êµ¬ë… ê´€ë¦¬
â”‚   â”œâ”€â”€ credits/page.tsx       # í¬ë ˆë”§ ê´€ë¦¬
â”‚   â”œâ”€â”€ layout.tsx             # ë£¨íŠ¸ ë ˆì´ì•„ì›ƒ
â”‚   â”œâ”€â”€ globals.css            # ì „ì—­ ìŠ¤íƒ€ì¼
â”‚   â”‚
â”‚   â””â”€â”€ api/                   # API Routes
â”‚       â”œâ”€â”€ auth/[...nextauth]/route.ts  # NextAuth API
â”‚       â”œâ”€â”€ presentations/     # í”„ë¦¬ì  í…Œì´ì…˜ CRUD
â”‚       â”œâ”€â”€ subscriptions/     # êµ¬ë… ê´€ë¦¬
â”‚       â”œâ”€â”€ credits/           # í¬ë ˆë”§ ê´€ë¦¬
â”‚       â”œâ”€â”€ history/           # ìƒì„± ì´ë ¥
â”‚       â””â”€â”€ admin/             # ê´€ë¦¬ì API
â”‚
â”œâ”€â”€ components/                # React ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ ui/                    # shadcn/ui ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ auth/                  # ì¸ì¦ ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ editor/                # í¸ì§‘ê¸° ì»´í¬ë„ŒíŠ¸
â”‚   â””â”€â”€ viewer/                # ë·°ì–´ ì»´í¬ë„ŒíŠ¸
â”‚
â”œâ”€â”€ lib/                       # ìœ í‹¸ë¦¬í‹° ë¼ì´ë¸ŒëŸ¬ë¦¬
â”‚   â”œâ”€â”€ prisma.ts              # Prisma Client ì¸ìŠ¤í„´ìŠ¤
â”‚   â”œâ”€â”€ permissions.ts         # Zanzibar ê¶Œí•œ ì‹œìŠ¤í…œ
â”‚   â”œâ”€â”€ supabase/              # Supabase í´ë¼ì´ì–¸íŠ¸
â”‚   â”‚   â””â”€â”€ client.ts
â”‚   â””â”€â”€ utils.ts               # ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜
â”‚
â”œâ”€â”€ prisma/                    # Prisma ORM
â”‚   â””â”€â”€ schema.prisma          # ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ
â”‚
â”œâ”€â”€ services/                  # ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ (AI íŒŒì´í”„ë¼ì¸)
â”‚   â”œâ”€â”€ gemini/                # Gemini API ì—°ë™
â”‚   â”‚   â”œâ”€â”€ config.ts
â”‚   â”‚   â”œâ”€â”€ content-generator.ts
â”‚   â”‚   â””â”€â”€ parser.ts
â”‚   â”œâ”€â”€ perplexity/            # Perplexity AI ì—°ë™
â”‚   â”‚   â””â”€â”€ researcher.ts
â”‚   â”œâ”€â”€ template/              # í…œí”Œë¦¿ ì‹œìŠ¤í…œ â­
â”‚   â”‚   â”œâ”€â”€ engine/            # í…œí”Œë¦¿ ì—”ì§„ ì½”ì–´
â”‚   â”‚   â”œâ”€â”€ base/              # ê¸°ë³¸ í…œí”Œë¦¿
â”‚   â”‚   â””â”€â”€ premium/           # í”„ë¦¬ë¯¸ì—„ í…œí”Œë¦¿
â”‚   â””â”€â”€ slide/                 # ìŠ¬ë¼ì´ë“œ ë³€í™˜
â”‚       â””â”€â”€ converter.ts
â”‚
â”œâ”€â”€ store/                     # Zustand ìƒíƒœ (í´ë¼ì´ì–¸íŠ¸)
â”‚   â”œâ”€â”€ presentationStore.ts
â”‚   â”œâ”€â”€ subscriptionStore.ts
â”‚   â””â”€â”€ creditStore.ts
â”‚
â”œâ”€â”€ types/                     # TypeScript íƒ€ì…
â”‚   â”œâ”€â”€ slide.ts
â”‚   â”œâ”€â”€ research.ts
â”‚   â”œâ”€â”€ auth.ts
â”‚   â””â”€â”€ database.ts
â”‚
â””â”€â”€ constants/                 # ìƒìˆ˜
    â””â”€â”€ design.ts              # ë””ìì¸ ì‹œìŠ¤í…œ
```

### 3.2 ì»´í¬ë„ŒíŠ¸ ê³„ì¸µ êµ¬ì¡°

```
App
â”œâ”€â”€ Layout
â”‚   â”œâ”€â”€ Header
â”‚   â””â”€â”€ BottomNav
â”‚
â”œâ”€â”€ HomePage
â”‚   â””â”€â”€ TemplateGallery (í–¥í›„)
â”‚
â”œâ”€â”€ InputPage
â”‚   â”œâ”€â”€ TextInput
â”‚   â”œâ”€â”€ TemplateSelector (í–¥í›„)
â”‚   â””â”€â”€ GenerateButton
â”‚
â”œâ”€â”€ ViewerPage
â”‚   â”œâ”€â”€ SlideViewer
â”‚   â”œâ”€â”€ SlideList
â”‚   â””â”€â”€ ActionButtons
â”‚
â””â”€â”€ EditorPage (í–¥í›„)
    â”œâ”€â”€ SlideEditor
    â”œâ”€â”€ PropertyPanel
    â””â”€â”€ PreviewPane
```

### 3.2 ê¸°ìˆ  ì•„í‚¤í…ì²˜ ë‹¤ì´ì–´ê·¸ë¨

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   Next.js 16 Frontend                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   React 19  â”‚  â”‚  Zustand     â”‚  â”‚ shadcn/ui    â”‚ â”‚
â”‚  â”‚  Components â”‚  â”‚  State Mgmt  â”‚  â”‚  (Radix UI)  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Next.js API Routes                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ NextAuth.js  â”‚  â”‚ Presentationsâ”‚  â”‚   Admin     â”‚ â”‚
â”‚  â”‚     API      â”‚  â”‚  CRUD API    â”‚  â”‚    API      â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                   â”‚                   â”‚
         â†“                   â†“                   â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Prisma ORM Layer                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚       Type-safe Database Access Layer            â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Supabase PostgreSQL Database              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  Users  â”‚ â”‚Presentations â”‚ â”‚ Subscriptions      â”‚ â”‚
â”‚  â”‚Accounts â”‚ â”‚    (JSON)    â”‚ â”‚ CreditTransactions â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

            External Services (AI íŒŒì´í”„ë¼ì¸)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Gemini API     â”‚  â”‚   Perplexity AI (ì„ íƒ)     â”‚
â”‚  (ì½˜í…ì¸ +JSON)   â”‚  â”‚   (ì›¹ ìë£Œ ì¡°ì‚¬)           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.3 ë°ì´í„° í”Œë¡œìš°

#### 3.3.1 ìƒì„± í”Œë¡œìš°

```
[ì‚¬ìš©ì ì…ë ¥] (ë¡œê·¸ì¸ í•„ìš”)
    â†“
[InputPage]
    â†“
[í¬ë ˆë”§/êµ¬ë… í™•ì¸] - API: /api/subscriptions/current
    â†“
â‘  Perplexity AI (ì„ íƒ)
    â†’ ì›¹ ìë£Œ ì¡°ì‚¬ (~160-200ì›)
    â†’ API: POST /api/research
    â†“
â‘¡ Gemini Flash/Pro â­
    â†’ ì½˜í…ì¸ +JSON ìƒì„± (~2ì›)
    â†’ UnifiedPPTJSON ì§ì ‘ ìƒì„± (Parser í†µí•© - 8ì› ì ˆê°)
    â†“
â‘¢ í´ë¼ì´ì–¸íŠ¸ í…œí”Œë¦¿ ì—”ì§„ â­
    â†’ HTML ìƒì„± (0ì›)
    â†“
[Supabase ì €ì¥]
    â†’ API: POST /api/presentations
    â†’ Prisma: presentations.create()
    â†’ GenerationHistory ê¸°ë¡
    â†“
[ViewerPage]
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ì´ ì›ê°€: ~2ì› (98% ì ˆê°!)
```

#### 3.3.2 í¸ì§‘ í”Œë¡œìš°

```
[ViewerPage]
    â†“
[Edit ë²„íŠ¼ í´ë¦­]
    â†“
[EditorPage]
    â†“
[slideData ìˆ˜ì •]
    â†“
[í´ë¼ì´ì–¸íŠ¸ í…œí”Œë¦¿ ì—”ì§„]
    â†’ HTML ì¬ìƒì„± (0ì›, ì¦‰ì‹œ)
    â†“
[ì‹¤ì‹œê°„ ë¯¸ë¦¬ë³´ê¸°]
    â†“
[ì €ì¥]
    â†’ API: PATCH /api/presentations/{id}
    â†’ Prisma: presentations.update()
    â†’ Zanzibar ê¶Œí•œ ì²´í¬ (owner/editor)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ë¹„ìš©: 0ì› (ë¬´ì œí•œ í¸ì§‘ ê°€ëŠ¥)
```

#### 3.3.3 ì €ì¥/ë¶ˆëŸ¬ì˜¤ê¸° í”Œë¡œìš°

```
[ì €ì¥]
ViewerPage
    â†’ API: POST /api/presentations
    â†’ Prisma ORM
        â†’ presentations.create({
            userId: session.user.id,
            title: string,
            slideData: UnifiedPPTJSON,
            metadata: { ... }
          })
    â†’ Zanzibar grant('presentation', id, 'owner', 'user', userId)
    â†’ Toast: "ì €ì¥í–ˆì–´ìš”"

[ë¶ˆëŸ¬ì˜¤ê¸°]
HistoryPage
    â†’ API: GET /api/presentations
    â†’ Prisma: presentations.findMany({ where: { userId } })
    â†’ Zanzibar ê¶Œí•œ í•„í„°ë§
    â†’ Presentation ëª©ë¡ í‘œì‹œ
    â†’ í´ë¦­ â†’ ViewerPageë¡œ ì´ë™
```

#### 3.3.4 ì¸ì¦ í”Œë¡œìš°

```
[ë¡œê·¸ì¸]
HomePage
    â†’ ë¡œê·¸ì¸ ë²„íŠ¼ í´ë¦­
    â†’ NextAuth signIn('github' | 'google')
    â†’ OAuth Provider ì¸ì¦
    â†’ Callback: /api/auth/callback
    â†’ Prisma Adapter
        â†’ users.upsert()
        â†’ accounts.create()
        â†’ sessions.create()
    â†’ ìë™ Free êµ¬ë… ìƒì„±
        â†’ subscriptions.create({ tier: 'FREE', status: 'ACTIVE' })
    â†’ í™ˆìœ¼ë¡œ ë¦¬ë””ë ‰ì…˜

[ë¡œê·¸ì•„ì›ƒ]
    â†’ NextAuth signOut()
    â†’ Session ì‚­ì œ
    â†’ í™ˆìœ¼ë¡œ ë¦¬ë””ë ‰ì…˜
```

---

## 4. ì¸ì¦ ì‹œìŠ¤í…œ

### 4.1 NextAuth.js ì„¤ì •

**ì¸ì¦ ì œê³µì**:
- GitHub OAuth
- Google OAuth

**ì¸ì¦ ì „ëµ**:
```typescript
{
  adapter: PrismaAdapter(prisma),
  session: {
    strategy: 'database',  // ë°ì´í„°ë² ì´ìŠ¤ ì„¸ì…˜ (JWT ì•„ë‹˜)
    maxAge: 30 * 24 * 60 * 60,  // 30ì¼
  },
  providers: [
    GithubProvider({ ... }),
    GoogleProvider({ ... }),
  ],
}
```

### 4.2 ì¸ì¦ í”Œë¡œìš°

```mermaid
sequenceDiagram
    User->>+HomePage: ë¡œê·¸ì¸ ë²„íŠ¼ í´ë¦­
    HomePage->>+NextAuth: signIn('github')
    NextAuth->>+GitHub: OAuth ìš”ì²­
    GitHub->>-User: ê¶Œí•œ ìŠ¹ì¸ ìš”ì²­
    User->>+GitHub: ìŠ¹ì¸
    GitHub->>-NextAuth: authorization code
    NextAuth->>+GitHub: access token êµí™˜
    GitHub->>-NextAuth: user info
    NextAuth->>+Prisma: users.upsert()
    Prisma->>-Database: User ìƒì„±/ì—…ë°ì´íŠ¸
    NextAuth->>+Prisma: sessions.create()
    Prisma->>-Database: Session ìƒì„±
    NextAuth->>+Prisma: subscriptions.create(FREE)
    Prisma->>-Database: Free êµ¬ë… ìƒì„±
    NextAuth->>-HomePage: ë¡œê·¸ì¸ ì™„ë£Œ
```

### 4.3 ì„¸ì…˜ ê´€ë¦¬

**ì„¸ì…˜ ì €ì¥**: Database (Prisma)
```typescript
model Session {
  id           String   @id @default(cuid())
  sessionToken String   @unique
  userId       String
  expires      DateTime
  createdAt    DateTime @default(now())
  updatedAt    DateTime @updatedAt
}
```

**ì„¸ì…˜ ì¡°íšŒ** (Server Component):
```typescript
import { auth } from '@/lib/auth'

export default async function Page() {
  const session = await auth()
  if (!session) {
    redirect('/')
  }

  return <div>Hello {session.user.email}</div>
}
```

**ì„¸ì…˜ ì¡°íšŒ** (Client Component):
```typescript
'use client'
import { useSession } from 'next-auth/react'

export function UserInfo() {
  const { data: session, status } = useSession()

  if (status === 'loading') return <div>ë¶ˆëŸ¬ì˜¤ê³  ìˆì–´ìš”...</div>
  if (status === 'unauthenticated') return <div>ë¡œê·¸ì¸ì´ í•„ìš”í•´ìš”</div>

  return <div>{session.user.name}</div>
}
```

### 4.4 ë³´í˜¸ëœ ë¼ìš°íŠ¸

**í˜ì´ì§€ ë³´í˜¸** (Server Component):
```typescript
import { auth } from '@/lib/auth'
import { redirect } from 'next/navigation'

export default async function ProtectedPage() {
  const session = await auth()
  if (!session) {
    redirect('/')
  }

  // ì¸ì¦ëœ ì‚¬ìš©ìë§Œ ì ‘ê·¼ ê°€ëŠ¥
  return <div>...</div>
}
```

**API ë¼ìš°íŠ¸ ë³´í˜¸**:
```typescript
import { auth } from '@/lib/auth'
import { NextResponse } from 'next/server'

export async function GET(request: Request) {
  const session = await auth()
  if (!session) {
    return NextResponse.json({ error: 'Unauthorized' }, { status: 401 })
  }

  // ì¸ì¦ëœ ì‚¬ìš©ìë§Œ ì ‘ê·¼ ê°€ëŠ¥
  return NextResponse.json({ data: '...' })
}
```

---

## 5. ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ

### 5.1 Prisma Schema ê°œìš”

```prisma
// prisma/schema.prisma
generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}
```

### 5.2 User & Auth Tables

#### User (ì‚¬ìš©ì)
```prisma
model User {
  id            String    @id @default(cuid())
  name          String?
  email         String    @unique
  emailVerified DateTime?
  image         String?

  // Relations
  accounts         Account[]
  presentations    Presentation[]
  subscription     Subscription?
  creditTransactions CreditTransaction[]
  generationHistory  GenerationHistory[]

  createdAt     DateTime  @default(now())
  updatedAt     DateTime  @updatedAt

  @@map("users")
}
```

#### Account (OAuth ê³„ì •)
```prisma
model Account {
  id                String  @id @default(cuid())
  userId            String
  type              String
  provider          String  // 'github', 'google'
  providerAccountId String
  refresh_token     String? @db.Text
  access_token      String? @db.Text
  expires_at        Int?
  token_type        String?
  scope             String?
  id_token          String? @db.Text
  session_state     String?

  user User @relation(fields: [userId], references: [id], onDelete: Cascade)

  @@unique([provider, providerAccountId])
  @@map("accounts")
}
```

### 5.3 Presentation Table

```prisma
model Presentation {
  id          String   @id @default(cuid())
  userId      String
  title       String
  description String?

  // SlideData JSON (UnifiedPPTJSON)
  slideData   Json

  // ë©”íƒ€ë°ì´í„°
  metadata    Json?    // { totalSlides, createdWith, version, ... }
  isPublic    Boolean  @default(false)

  // ì†Œí”„íŠ¸ ì‚­ì œ
  deletedAt   DateTime?

  // Relations
  user        User     @relation(fields: [userId], references: [id], onDelete: Cascade)
  history     GenerationHistory[]

  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt

  @@index([userId])
  @@index([isPublic])
  @@index([deletedAt])
  @@map("presentations")
}
```

**UnifiedPPTJSON êµ¬ì¡°**:
```json
{
  "slides": [
    {
      "type": "title",
      "data": {
        "title": "í”„ë ˆì  í…Œì´ì…˜ ì œëª©",
        "subtitle": "ë¶€ì œëª©"
      }
    },
    {
      "type": "bullet",
      "data": {
        "title": "ìŠ¬ë¼ì´ë“œ ì œëª©",
        "bullets": ["í•­ëª© 1", "í•­ëª© 2"]
      }
    }
  ]
}
```

### 5.4 Subscription & Credit Tables

#### Subscription (êµ¬ë…)
```prisma
model Subscription {
  id        String   @id @default(cuid())
  userId    String   @unique
  tier      String   // 'FREE', 'PRO', 'PREMIUM'
  status    String   // 'ACTIVE', 'CANCELED', 'EXPIRED'

  startDate DateTime
  endDate   DateTime?

  user      User     @relation(fields: [userId], references: [id], onDelete: Cascade)

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@index([tier])
  @@index([status])
  @@map("subscriptions")
}
```

#### CreditTransaction (í¬ë ˆë”§ ê±°ë˜)
```prisma
model CreditTransaction {
  id          String   @id @default(cuid())
  userId      String
  type        String   // 'PURCHASE', 'USAGE', 'REFUND', 'BONUS'
  amount      Int      // ì¦ê°€(+) ë˜ëŠ” ê°ì†Œ(-) í¬ë ˆë”§
  balance     Int      // ê±°ë˜ í›„ ì”ì•¡
  description String?

  user        User     @relation(fields: [userId], references: [id], onDelete: Cascade)

  createdAt   DateTime @default(now())

  @@index([userId, createdAt])
  @@index([type])
  @@map("credit_transactions")
}
```

### 5.5 Generation History Table

```prisma
model GenerationHistory {
  id              String   @id @default(cuid())
  userId          String
  presentationId  String?

  // ì…ë ¥
  prompt          String   @db.Text

  // AI ì„¤ì •
  model           String   // 'gemini-flash', 'gemini-pro'
  useResearch     Boolean  @default(false)

  // ë¹„ìš©
  creditsUsed     Int      @default(0)

  // ê²°ê³¼
  result          Json?    // ìƒì„±ëœ SlideData JSON + metadata

  // Relations
  user            User         @relation(fields: [userId], references: [id], onDelete: Cascade)
  presentation    Presentation? @relation(fields: [presentationId], references: [id], onDelete: SetNull)

  createdAt       DateTime @default(now())

  @@index([userId, createdAt])
  @@index([presentationId])
  @@map("generation_history")
}
```

---

## 6. ê¶Œí•œ ì‹œìŠ¤í…œ

### 6.1 Zanzibar ê°œìš”

Google ZanzibarëŠ” **Relationship-Based Access Control (ReBAC)** íŒ¨í„´ì„ ì‚¬ìš©í•˜ëŠ” ë¶„ì‚° ê¶Œí•œ ì‹œìŠ¤í…œì…ë‹ˆë‹¤.

**í•µì‹¬ ê°œë…**:
- **Tuple**: `(namespace:objectId, relation, subjectType:subjectId)` í˜•íƒœì˜ ê¶Œí•œ ê´€ê³„
- **Check API**: ê¶Œí•œ í™•ì¸
- **Write API**: ê¶Œí•œ ë¶€ì—¬
- **Delete API**: ê¶Œí•œ ì œê±°

### 6.2 Schema

#### RelationTuple (ê¶Œí•œ íŠœí”Œ)
```prisma
model RelationTuple {
  id          String   @id @default(cuid())

  namespace   String   // 'presentation', 'system'
  objectId    String   // ë¦¬ì†ŒìŠ¤ ID
  relation    String   // 'owner', 'editor', 'viewer', 'admin'
  subjectType String   // 'user', 'user_set'
  subjectId   String   // User ID ë˜ëŠ” '*' (ì™€ì¼ë“œì¹´ë“œ)

  createdAt   DateTime @default(now())

  @@unique([namespace, objectId, relation, subjectType, subjectId])
  @@index([namespace, objectId, relation])
  @@index([subjectType, subjectId])
  @@map("relation_tuples")
}
```

### 6.3 ê¶Œí•œ ì²´ê³„

**Namespace**: `presentation`, `system`
**Relation**: `owner`, `editor`, `viewer`, `admin`

**ìƒì† êµ¬ì¡°**:
- `owner` â†’ `editor` â†’ `viewer`
- `admin` (ì‹œìŠ¤í…œ ë ˆë²¨, ëª¨ë“  ê¶Œí•œ)

### 6.4 ê¶Œí•œ API (`lib/permissions.ts`)

**ê¶Œí•œ í™•ì¸**:
```typescript
export async function check(
  userId: string,
  namespace: 'presentation' | 'system',
  objectId: string,
  relation: 'owner' | 'editor' | 'viewer' | 'admin'
): Promise<boolean>

// ì˜ˆì‹œ
const canEdit = await check('alice', 'presentation', '123', 'editor')
```

**ê¶Œí•œ ë¶€ì—¬**:
```typescript
export async function grant(
  namespace: string,
  objectId: string,
  relation: string,
  subjectType: 'user',
  subjectId: string
): Promise<RelationTuple | null>

// ì˜ˆì‹œ
await grant('presentation', '123', 'owner', 'user', 'alice')
```

**ê¶Œí•œ ì œê±°**:
```typescript
export async function revoke(
  namespace: string,
  objectId: string,
  relation: string,
  subjectType: 'user',
  subjectId: string
): Promise<void>
```

### 6.5 ê¶Œí•œ ì²´í¬ íë¦„

```
1. ì§ì ‘ ê¶Œí•œ í™•ì¸: (namespace, objectId, relation, user, userId) íŠœí”Œ ì¡°íšŒ
2. ìƒì† ê¶Œí•œ í™•ì¸: owner â†’ editor â†’ viewer ê³„ì¸µ
3. ì‹œìŠ¤í…œ ê¶Œí•œ í™•ì¸: (system, global, admin, user, userId) ì¡°íšŒ
4. ì™€ì¼ë“œì¹´ë“œ í™•ì¸: (namespace, objectId, relation, user, *) ì¡°íšŒ
```

**ì˜ˆì‹œ**:
```
(presentation:123, owner, user:alice)   â†’ aliceëŠ” owner
(presentation:123, editor, user:bob)    â†’ bobì€ editor
(presentation:456, viewer, user:*)      â†’ ëª¨ë“  ì‚¬ìš©ìê°€ ì¡°íšŒ ê°€ëŠ¥
(system:global, admin, user:admin_user) â†’ admin_userëŠ” ì‹œìŠ¤í…œ ê´€ë¦¬ì
```

---

## 7. êµ¬ë… ë° í¬ë ˆë”§ ì‹œìŠ¤í…œ

### 7.1 êµ¬ë… í‹°ì–´ ë¹„êµ

| ê¸°ëŠ¥ | Free | Pro (ì›” 9,900ì›) | Premium (ë¯¸ì •) |
|------|------|------------------|----------------|
| **AI ëª¨ë¸** | Gemini Flash | Gemini Flash | Gemini Pro |
| **Deep Research** | âŒ | í¬ë ˆë”§ ì‚¬ìš© | í¬ë ˆë”§ ì‚¬ìš© |
| **ìŠ¬ë¼ì´ë“œ ì œí•œ** | 5ê°œ | ë¬´ì œí•œ | ë¬´ì œí•œ |
| **ì›Œí„°ë§ˆí¬** | âœ… ìˆìŒ | âŒ ì—†ìŒ | âŒ ì—†ìŒ |
| **ê´‘ê³ ** | âœ… ìˆìŒ | âŒ ì—†ìŒ | âŒ ì—†ìŒ |
| **ì €ì¥ ê°œìˆ˜** | ë¬´ì œí•œ | ë¬´ì œí•œ | ë¬´ì œí•œ |
| **ë‹¤ìš´ë¡œë“œ** | HTML, PDF | HTML, PDF, PPTX | HTML, PDF, PPTX |
| **í˜‘ì—… (í–¥í›„)** | âŒ | âœ… | âœ… |

### 7.2 í¬ë ˆë”§ ì‹œìŠ¤í…œ

**í¬ë ˆë”§ ì‚¬ìš©**:
- **Pro ëª¨ë¸ ì‚¬ìš©**: 1 í¬ë ˆë”§
- **Deep Research ê¸°ëŠ¥**: 2 í¬ë ˆë”§

**í¬ë ˆë”§ êµ¬ë§¤** (ì˜ˆì‹œ):
- 100 í¬ë ˆë”§: 10,000ì›
- 500 í¬ë ˆë”§: 45,000ì› (10% í• ì¸)
- 1,000 í¬ë ˆë”§: 80,000ì› (20% í• ì¸)

**í¬ë ˆë”§ ì”ì•¡ ì¡°íšŒ**:
```typescript
// API: GET /api/credits
const latestTransaction = await prisma.creditTransaction.findFirst({
  where: { userId },
  orderBy: { createdAt: 'desc' },
  select: { balance: true },
})

const currentBalance = latestTransaction?.balance ?? 0
```

### 7.3 êµ¬ë… API

| Endpoint | Method | ì„¤ëª… |
|----------|--------|------|
| `/api/subscriptions/current` | GET | ë‚´ êµ¬ë… ì •ë³´ ì¡°íšŒ |
| `/api/subscriptions` | POST | êµ¬ë… ìƒì„±/ì—…ê·¸ë ˆì´ë“œ |
| `/api/subscriptions/cancel` | POST | êµ¬ë… ì·¨ì†Œ |

### 7.4 í¬ë ˆë”§ API

| Endpoint | Method | ì„¤ëª… |
|----------|--------|------|
| `/api/credits` | GET | í¬ë ˆë”§ ì”ì•¡ ì¡°íšŒ |
| `/api/credits/purchase` | POST | í¬ë ˆë”§ êµ¬ë§¤ |
| `/api/credits/history` | GET | í¬ë ˆë”§ ê±°ë˜ ì´ë ¥ ì¡°íšŒ |
| `/api/credits/consume` | POST | í¬ë ˆë”§ ì°¨ê° (ë‚´ë¶€ API) |

---

## 8. í…œí”Œë¦¿ ì‹œìŠ¤í…œ ì„¤ê³„

### 8.1 ì‹œìŠ¤í…œ ê°œìš”

í´ë¼ì´ì–¸íŠ¸ HTML í…œí”Œë¦¿ ì‹œìŠ¤í…œì€ ê¸°ì¡´ Gemini API í˜¸ì¶œì„ í´ë¼ì´ì–¸íŠ¸ ì—”ì§„ìœ¼ë¡œ ëŒ€ì²´í•˜ì—¬ **ë¹„ìš© 87% ì ˆê°** ë° **ì‹¤ì‹œê°„ í¸ì§‘ ê¸°ëŠ¥**ì„ êµ¬í˜„í•©ë‹ˆë‹¤.

#### ì„¤ê³„ ì›ì¹™

1. **Gemini HTML íŒ¨í„´ ì™„ë²½ ë³µì œ**: í”½ì…€ ë‹¨ìœ„ ë™ì¼ êµ¬í˜„
2. **êµ¬ì¡°í™”ëœ ë°ì´í„° ì €ì¥**: UnifiedPPTJSON ê¸°ë°˜ í¸ì§‘ ê°€ëŠ¥ ë°ì´í„°
3. **í”ŒëŸ¬ê·¸ì¸ ì•„í‚¤í…ì²˜**: í…œí”Œë¦¿ ì¶”ê°€/ì œê±° ìš©ì´

### 8.2 ì•„í‚¤í…ì²˜ ë‹¤ì´ì–´ê·¸ë¨

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      Template Engine (Core)             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   Base      â”‚  â”‚  Template        â”‚ â”‚
â”‚  â”‚  Templates  â”‚  â”‚  Registry        â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚         â”‚                  â”‚            â”‚
â”‚         â†“                  â†“            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚    Template Generator          â”‚    â”‚
â”‚  â”‚  - generateSlideHTML()         â”‚    â”‚
â”‚  â”‚  - applyTemplate()             â”‚    â”‚
â”‚  â”‚  - renderSlide()               â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â†“                  â†‘
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Built-in Templatesâ”‚  â”‚ Premium Templatesâ”‚
â”‚  - toss-default    â”‚  â”‚ - elegant-businessâ”‚
â”‚  (4 types)         â”‚  â”‚ - modern-tech    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ - creative-studioâ”‚
                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 8.3 í…œí”Œë¦¿ ë””ë ‰í† ë¦¬ êµ¬ì¡°

```
services/template/
â”œâ”€â”€ engine/
â”‚   â”œâ”€â”€ TemplateEngine.ts          # í…œí”Œë¦¿ ì—”ì§„ ì½”ì–´
â”‚   â”œâ”€â”€ TemplateRegistry.ts        # í…œí”Œë¦¿ ë ˆì§€ìŠ¤íŠ¸ë¦¬
â”‚   â””â”€â”€ types.ts                   # í…œí”Œë¦¿ íƒ€ì… ì •ì˜
â”‚
â”œâ”€â”€ base/
â”‚   â”œâ”€â”€ toss-default/
â”‚   â”‚   â”œâ”€â”€ index.ts               # Export
â”‚   â”‚   â”œâ”€â”€ TitleSlide.ts
â”‚   â”‚   â”œâ”€â”€ ContentSlide.ts
â”‚   â”‚   â”œâ”€â”€ BulletSlide.ts
â”‚   â”‚   â””â”€â”€ SectionSlide.ts
â”‚   â””â”€â”€ config.ts
â”‚
â””â”€â”€ premium/
    â”œâ”€â”€ loader.ts                  # ë™ì  ë¡œë”
    â”œâ”€â”€ elegant-business/
    â””â”€â”€ modern-tech/
```

### 8.4 ê¸°ë³¸ í…œí”Œë¦¿ (toss-default)

#### MVP ë²”ìœ„ (4ê°œ ìŠ¬ë¼ì´ë“œ íƒ€ì…)

Phase 1ì—ì„œ êµ¬í˜„í•˜ëŠ” í•µì‹¬ íƒ€ì…:

1. **TitleSlide** - í‘œì§€ ìŠ¬ë¼ì´ë“œ
2. **ContentSlide** - ë³¸ë¬¸ ìŠ¬ë¼ì´ë“œ
3. **BulletSlide** - ë¶ˆë¦¿ í¬ì¸íŠ¸ ìŠ¬ë¼ì´ë“œ
4. **SectionSlide** - ì„¹ì…˜ êµ¬ë¶„ ìŠ¬ë¼ì´ë“œ

**ì„ ì • ì´ìœ **:
- í”„ë¦¬ì  í…Œì´ì…˜ì˜ 80% ì»¤ë²„
- êµ¬í˜„ ë³µì¡ë„ ë‚®ìŒ
- í…ìŠ¤íŠ¸ í¸ì§‘ í•µì‹¬ íƒ€ì…

#### Gemini HTML íŒ¨í„´ ë¶„ì„

**ê¸°ë³¸ ìŠ¤í™**:
- ìŠ¬ë¼ì´ë“œ í¬ê¸°: `1200px Ã— 675px` (16:9 ë¹„ìœ¨)
- padding: `60px`
- font-family: `Arial`
- ìƒ‰ìƒ: TDS Colors ê¸°ë°˜ (#3182f6 primary, #333d4b dark ë“±)

**ê³µí†µ êµ¬ì¡°**:
```html
<div class="slide" id="slide-{n}">
  <style>.slide { width: 1200px; height: 675px; }</style>
  <div class="slide" style="...">
    <!-- ìŠ¬ë¼ì´ë“œ ë‚´ìš© -->
  </div>
</div>
```

### 8.5 í”„ë¦¬ë¯¸ì—„ í…œí”Œë¦¿ ì‹œìŠ¤í…œ

#### ë™ì  ë¡œë”© ë©”ì»¤ë‹ˆì¦˜

- **í”ŒëŸ¬ê·¸ì¸ ì•„í‚¤í…ì²˜**: ëŸ°íƒ€ì„ ë™ì  ë¡œë“œ
- **í…œí”Œë¦¿ ì¶”ê°€**: ë””ë ‰í† ë¦¬ ìƒì„± + config.ts ë“±ë¡
- **í…œí”Œë¦¿ ì œê±°**: ë””ë ‰í† ë¦¬ ì‚­ì œ + config.ts ì œê±°

#### í…œí”Œë¦¿ ì¹´í…Œê³ ë¦¬

- **ë¬´ë£Œ**: toss-default
- **í”„ë¦¬ë¯¸ì—„**: elegant-business, modern-tech, creative-studio ë“±
- **ì»¤ìŠ¤í…€**: Enterprise ìš”ê¸ˆì œ ì „ìš© (í–¥í›„)

---

## 9. ë°ì´í„° êµ¬ì¡°

### 9.1 Presentation íƒ€ì…

#### ê¸°ì¡´ êµ¬ì¡° (Phase 0)

```typescript
interface Presentation {
  id: string;
  title: string;
  slides: HTMLSlide[];        // HTML ë¬¸ìì—´ë§Œ ì €ì¥
  createdAt: number;
}
```

**ë¬¸ì œì **:
- HTML ë¬¸ìì—´ë§Œ ì €ì¥ â†’ í¸ì§‘ ë¶ˆê°€ëŠ¥
- êµ¬ì¡°í™”ëœ ë°ì´í„° ì—†ìŒ
- í…œí”Œë¦¿ ì •ë³´ ì—†ìŒ

#### ìƒˆ êµ¬ì¡° (Phase 1+)

```typescript
interface Presentation {
  id: string;
  title: string;
  slides: HTMLSlide[];        // ë Œë”ë§ìš© (ê¸°ì¡´ í˜¸í™˜ì„±)
  slideData: UnifiedPPTJSON;  // í¸ì§‘ ê°€ëŠ¥ ë°ì´í„° â­
  templateId: string;         // ì‚¬ìš©ëœ í…œí”Œë¦¿ ID â­
  createdAt: number;
  updatedAt?: number;         // ìˆ˜ì • ì‹œê°„ â­
}
```

**ê°œì„  íš¨ê³¼**:
- í¸ì§‘ ê°€ëŠ¥í•œ êµ¬ì¡°í™”ëœ ë°ì´í„° ì €ì¥
- í…œí”Œë¦¿ ì¬ì ìš© ê°€ëŠ¥
- í•˜ìœ„ í˜¸í™˜ì„± ìœ ì§€ (slides í•„ë“œ)

### 9.2 UnifiedPPTJSON ê·œê²©

```typescript
interface UnifiedPPTJSON {
  slides: Slide[];
}

type Slide =
  | TitleSlide
  | ContentSlide
  | BulletSlide
  | SectionSlide
  | TableSlide
  | ChartSlide
  | StatsSlide
  | ComparisonSlide
  | TimelineSlide
  | QuoteSlide
  | ThankYouSlide
  | TwoColumnSlide;

interface BaseSlide {
  type: string;
  props: Record<string, any>;
  style?: Record<string, any>;
}
```

**ì˜ˆì‹œ**:
```typescript
{
  "slides": [
    {
      "type": "title",
      "props": {
        "title": "AI ì›Œí¬í”Œë¡œìš° ìë™í™”",
        "subtitle": "ì—…ë¬´ í˜ì‹ ì˜ ì‹œì‘"
      },
      "style": {
        "background": "#3182f6",
        "titleColor": "#FFFFFF"
      }
    },
    {
      "type": "bullet",
      "props": {
        "title": "í•µì‹¬ ê¸°ëŠ¥",
        "bullets": ["ìë™í™”", "í†µí•©", "ë¶„ì„"]
      }
    }
  ]
}
```

### 9.3 HTMLSlide íƒ€ì…

```typescript
interface HTMLSlide {
  html: string;  // ë Œë”ë§ìš© HTML ë¬¸ìì—´
  css?: string;  // ìŠ¬ë¼ì´ë“œë³„ CSS (ì„ íƒ)
}
```

---

## 10. API ì„¤ê³„

### 10.1 Gemini API ì—°ë™

#### content-generator.ts

**ì—­í• **: í…ìŠ¤íŠ¸ â†’ êµ¬ì¡°í™”ëœ ì½˜í…ì¸  ìƒì„±

**ì…ë ¥**:
```typescript
{
  text: string;              // ì‚¬ìš©ì ì…ë ¥ í…ìŠ¤íŠ¸
  researchData?: string;     // Perplexity ì¡°ì‚¬ ê²°ê³¼ (ì„ íƒ)
  useFlash?: boolean;        // Flash(2ì›) vs Pro(10ì›)
}
```

**ì¶œë ¥**:
```typescript
{
  slides: ParsedSlide[];     // íŒŒì‹±ëœ ìŠ¬ë¼ì´ë“œ ë°°ì—´
}
```

**ë¹„ìš©**: ~2ì› (Flash) / ~10ì› (Pro)

#### parser.ts

**ì—­í• **: íŒŒì‹±ëœ ì½˜í…ì¸  â†’ UnifiedPPTJSON ë³€í™˜

**ì…ë ¥**:
```typescript
{
  slides: ParsedSlide[];
}
```

**ì¶œë ¥**:
```typescript
UnifiedPPTJSON
```

**ë¹„ìš©**: ~8ì› (Flash-Lite)

### 10.2 Perplexity API ì—°ë™

#### researcher.ts

**ì—­í• **: ì›¹ ìë£Œ ì¡°ì‚¬ ë° ì •ë³´ ìˆ˜ì§‘

**ì…ë ¥**:
```typescript
{
  query: string;             // ì¡°ì‚¬ ì£¼ì œ
  depth: 'fast' | 'deep';    // Sonar(160ì›) vs Reasoning(200ì›)
}
```

**ì¶œë ¥**:
```typescript
{
  summary: string;           // ì¡°ì‚¬ ìš”ì•½
  sources: string[];         // ì¶œì²˜ URL
  content: string;           // ìƒì„¸ ë‚´ìš©
}
```

**ë¹„ìš©**: ~160ì› (Sonar) / ~200ì› (Reasoning)

### 10.3 í…œí”Œë¦¿ ì—”ì§„ API

#### TemplateEngine

**generateSlide()**:
```typescript
// ë‹¨ì¼ ìŠ¬ë¼ì´ë“œ HTML ìƒì„±
generateSlide(
  slide: Slide,
  templateId: string
): HTMLSlide
```

**generateAll()**:
```typescript
// ì „ì²´ í”„ë¦¬ì  í…Œì´ì…˜ HTML ìƒì„±
generateAll(
  slideData: UnifiedPPTJSON,
  templateId: string
): HTMLSlide[]
```

**ë¹„ìš©**: 0ì› (í´ë¼ì´ì–¸íŠ¸ ì²˜ë¦¬)

### 10.4 ì›¹ ì„œë¹„ìŠ¤ API

#### Presentations API

**ì—”ë“œí¬ì¸íŠ¸**: `/api/presentations`

**CREATE** - `POST /api/presentations`
```typescript
// Request
{
  title: string
  slideData: UnifiedPPTJSON
  metadata?: {
    totalSlides: number
    createdWith: 'gemini-flash' | 'gemini-pro'
    version: string
  }
}

// Response
{
  id: string
  userId: string
  title: string
  slideData: UnifiedPPTJSON
  metadata: object
  createdAt: string
}
```

**READ** - `GET /api/presentations?userId={userId}`
```typescript
// Response
{
  presentations: Presentation[]
}
```

**UPDATE** - `PATCH /api/presentations/{id}`
```typescript
// Request
{
  title?: string
  slideData?: UnifiedPPTJSON
  metadata?: object
}

// Response
{
  updated: Presentation
}
```

**DELETE** - `DELETE /api/presentations/{id}`
```typescript
// Response (Soft Delete)
{
  success: boolean
  deletedAt: string
}
```

#### Subscriptions API

**ì—”ë“œí¬ì¸íŠ¸**: `/api/subscriptions`

**í˜„ì¬ êµ¬ë… ì¡°íšŒ** - `GET /api/subscriptions/current`
```typescript
// Response
{
  tier: 'FREE' | 'PRO' | 'PREMIUM'
  status: 'ACTIVE' | 'CANCELED' | 'EXPIRED'
  startDate: string
  endDate?: string
}
```

**êµ¬ë… ìƒì„±/ì—…ê·¸ë ˆì´ë“œ** - `POST /api/subscriptions`
```typescript
// Request
{
  tier: 'PRO' | 'PREMIUM'
  paymentMethod: string
}

// Response
{
  subscription: Subscription
  paymentUrl?: string  // ê²°ì œ í˜ì´ì§€ URL
}
```

**êµ¬ë… ì·¨ì†Œ** - `POST /api/subscriptions/cancel`
```typescript
// Response
{
  subscription: Subscription  // status: 'CANCELED'
  effectiveDate: string       // êµ¬ë… ì¢…ë£Œ ì˜ˆì •ì¼
}
```

#### Credits API

**ì—”ë“œí¬ì¸íŠ¸**: `/api/credits`

**ì”ì•¡ ì¡°íšŒ** - `GET /api/credits`
```typescript
// Response
{
  balance: number
  transactions: CreditTransaction[]  // ìµœê·¼ 10ê°œ
}
```

**í¬ë ˆë”§ êµ¬ë§¤** - `POST /api/credits/purchase`
```typescript
// Request
{
  packageId: '100' | '500' | '1000'
  paymentMethod: string
}

// Response
{
  transaction: CreditTransaction
  newBalance: number
  paymentUrl?: string
}
```

**í¬ë ˆë”§ ê±°ë˜ ì´ë ¥** - `GET /api/credits/history?limit={n}&offset={n}`
```typescript
// Response
{
  transactions: CreditTransaction[]
  total: number
  hasMore: boolean
}
```

**í¬ë ˆë”§ ì°¨ê° (ë‚´ë¶€ API)** - `POST /api/credits/consume`
```typescript
// Request
{
  amount: number
  description: string
}

// Response
{
  transaction: CreditTransaction
  newBalance: number
}
```

#### History API

**ì—”ë“œí¬ì¸íŠ¸**: `/api/history`

**ìƒì„± ì´ë ¥ ì¡°íšŒ** - `GET /api/history?userId={userId}&limit={n}`
```typescript
// Response
{
  history: GenerationHistory[]
  total: number
}
```

**ìƒì„± ì´ë ¥ ìƒì„¸** - `GET /api/history/{id}`
```typescript
// Response
{
  id: string
  prompt: string
  model: string
  useResearch: boolean
  creditsUsed: number
  result: UnifiedPPTJSON
  createdAt: string
}
```

---

## 11. AI íŒŒì´í”„ë¼ì¸

### 11.1 í˜„ì¬ ì•„í‚¤í…ì²˜ (Phase 0)

```
í…ìŠ¤íŠ¸ ì…ë ¥
  â†’ Gemini Pro/Flash: ì½˜í…ì¸  ìƒì„± (~10ì›)
  â†’ Gemini Flash: JSON íŒŒì‹± (~8ì›)
  â†’ Gemini Pro/Flash: HTML ìƒì„± (~82ì›) âš ï¸
  â†’ Viewer ë Œë”ë§
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ì´ ì›ê°€: ~100ì›
```

**ë¬¸ì œì **:
- HTML ìƒì„±ì´ ì „ì²´ ë¹„ìš©ì˜ 82-97% ì°¨ì§€
- í¸ì§‘ ì‹œë§ˆë‹¤ API ì¬í˜¸ì¶œ â†’ ë¹„ìš© ì¤‘ë³µ
- ê·œëª¨ í™•ì¥ ì‹œ ì›ê°€ ê¸‰ì¦ ìœ„í—˜

### 11.2 ê°œì„  ì•„í‚¤í…ì²˜ (Phase 1+)

```
í…ìŠ¤íŠ¸ ì…ë ¥
  â†’ (ì„ íƒ) Perplexity: ìë£Œ ì¡°ì‚¬ (~160-200ì›)
  â†’ Gemini Flash/Pro: ì½˜í…ì¸ +JSON ìƒì„± (~2ì›) âœ¨
      â†³ UnifiedPPTJSON í˜•ì‹ ì§ì ‘ ìƒì„± (Parser ì œê±°ë¡œ 8ì› ì ˆê°)
  â†’ í´ë¼ì´ì–¸íŠ¸ í…œí”Œë¦¿ ì—”ì§„: HTML ìƒì„± (0ì›) âœ¨
  â†’ Viewer ë Œë”ë§
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ì´ ì›ê°€: ~2ì› (98% ì ˆê°!)
```

**ê°œì„  íš¨ê³¼**:
- Parser í†µí•©ìœ¼ë¡œ 8ì› ì ˆê° (Flash-Lite API í˜¸ì¶œ ì œê±°)
- HTML ìƒì„± ë¹„ìš© 100% ì œê±°
- í¸ì§‘ ë¬´ì œí•œ (0ì›)
- ì¦‰ì‹œ ë¯¸ë¦¬ë³´ê¸° ê°€ëŠ¥

### 11.3 ë¹„ìš© ë¶„ì„

#### ê¸°ë³¸ ìƒì„± ë¹„ìš©

| ë‹¨ê³„ | í˜„ì¬ Pro | í˜„ì¬ Flash | í…œí”Œë¦¿ ì‹œìŠ¤í…œ | ì ˆê°ìœ¨ |
|------|----------|-----------|-------------|--------|
| ì½˜í…ì¸ +JSON ìƒì„± | 10ì› | 2ì› | 2ì› | - |
| íŒŒì‹± | 8ì› | 8ì› | 0ì› (í†µí•©) | **100%** |
| HTML ìƒì„± | 82ì› | 75ì› | 0ì› | **100%** |
| **ì´ ì›ê°€** | **100ì›** | **77ì›** | **2ì›** | **98%** |

**í•µì‹¬ ê°œì„ ì **:
- Parser ë‹¨ê³„ ì œê±°: ì½˜í…ì¸  ìƒì„± ì‹œ UnifiedPPTJSON í˜•ì‹ ì§ì ‘ ìƒì„± (8ì› ì ˆê°)
- HTML ìƒì„± í´ë¼ì´ì–¸íŠ¸ ì²˜ë¦¬: í…œí”Œë¦¿ ì—”ì§„ í™œìš© (75-82ì› ì ˆê°)

#### í¸ì§‘ ì‹œë‚˜ë¦¬ì˜¤

```
[í˜„ì¬]
í¸ì§‘ 1íšŒ = 77-100ì› (HTML ì¬ìƒì„±)
í¸ì§‘ 10íšŒ = 770-1,000ì› âŒ

[í…œí”Œë¦¿ ì‹œìŠ¤í…œ]
í¸ì§‘ ë¬´ì œí•œ = 0ì› âœ…
```

#### ì›”ê°„ ë¹„ìš© ì˜ˆì¸¡

**ì‹œë‚˜ë¦¬ì˜¤**: ì›” 1,000ëª… Ã— í‰ê·  5íšŒ ìƒì„±

```
í˜„ì¬ ë¹„ìš©: 1,000ëª… Ã— 5íšŒ Ã— 77ì› = â‚©385,000
ìƒˆ ë¹„ìš©:   1,000ëª… Ã— 5íšŒ Ã— 2ì›  = â‚©10,000
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ì›” ì ˆê°ì•¡: â‚©375,000 (98% ì ˆê°)
ì—° ì ˆê°ì•¡: â‚©4,500,000
```

---

## 12. ë””ìì¸ ì‹œìŠ¤í…œ

### 12.1 ìƒ‰ìƒ íŒ”ë ˆíŠ¸ (TDS Colors)

```typescript
export const TOSS_COLORS = {
  // ë¸Œëœë“œ ìƒ‰ìƒ
  primary: '#5ec9a7',      // í† ìŠ¤ ë¯¼íŠ¸ (ìƒˆ íŒ”ë ˆíŠ¸)
  secondary: '#1c3f57',    // í† ìŠ¤ ë„¤ì´ë¹„

  // Gemini í…œí”Œë¦¿ ìƒ‰ìƒ
  geminiPrimary: '#3182f6',      // í† ìŠ¤ ë¸”ë£¨
  geminiDark: '#333d4b',         // ë‹¤í¬ ë°°ê²½
  geminiText: '#191f28',         // í…ìŠ¤íŠ¸
  geminiTextSecondary: '#333d4b',
  geminiGray: '#d1d6db',         // ë³´ì¡° í…ìŠ¤íŠ¸
  geminiBg: '#f2f4f6',           // ë°°ê²½

  // ê¸°ë³¸ ìƒ‰ìƒ
  background: '#FFFFFF',
  surface: '#F9FAFB',
  text: '#0f1419',
  textSecondary: '#6B7280',
  muted: '#e5e5e6',

  // ìƒíƒœ ìƒ‰ìƒ
  error: '#EF4444',
  success: '#10B981',
  warning: '#F59E0B'
};
```

### 12.2 íƒ€ì´í¬ê·¸ë˜í”¼

```typescript
export const TYPOGRAPHY = {
  fontFamily: 'Arial',
  fontSize: {
    // ìŠ¬ë¼ì´ë“œ ì œëª©
    title: 48,           // TitleSlide
    subtitle: 24,        // TitleSlide subtitle
    sectionTitle: 44,    // SectionSlide

    // ë³¸ë¬¸
    heading: 32,         // Content/Bullet heading
    body: 18,            // ë³¸ë¬¸ í…ìŠ¤íŠ¸
    quote: 22,           // QuoteSlide

    // íŠ¹ìˆ˜
    stats: 56,           // StatsSlide ê°’
  },
  fontWeight: {
    normal: 400,
    bold: 700
  },
  lineHeight: {
    normal: 1.4,
    relaxed: 1.7
  }
};
```

### 12.3 ë ˆì´ì•„ì›ƒ ìŠ¤í™

```typescript
export const LAYOUT = {
  // ìŠ¬ë¼ì´ë“œ í¬ê¸°
  slideWidth: 1200,
  slideHeight: 675,      // 16:9 ë¹„ìœ¨

  // ê°„ê²©
  spacing: {
    padding: 60,         // ìŠ¬ë¼ì´ë“œ ë‚´ë¶€ íŒ¨ë”©
    gap: 40,             // ê·¸ë¦¬ë“œ ê°„ê²©
    margin: 30,          // ìš”ì†Œ ê°„ ë§ˆì§„
  },

  // Accent Bar
  accentBar: {
    width: 60,
    height: 4
  },

  // Border Radius
  borderRadius: {
    small: 8,
    medium: 12,
    large: 16
  }
};
```

### 12.4 ìŠ¬ë¼ì´ë“œ íƒ€ì…ë³„ ìŠ¤íƒ€ì¼

#### TitleSlide
- ë°°ê²½: `geminiPrimary` (#3182f6)
- ì œëª©: 48px, bold, white
- ë¶€ì œëª©: 24px, gray
- ì •ë ¬: ì¤‘ì•™ (flex center)

#### ContentSlide / BulletSlide
- ë°°ê²½: white
- Accent Bar: 60Ã—4px, primary
- ì œëª©: 32px, bold, dark
- ë³¸ë¬¸: 18px, regular

#### SectionSlide
- ë°°ê²½: `geminiDark` (#333d4b)
- ì œëª©: 44px, bold, white
- ì •ë ¬: ì¤‘ì•™

#### StatsSlide
- ë ˆì´ì•„ì›ƒ: 2Ã—2 Grid
- ì¹´ë“œ: primary border, bg ì—°í•œ íšŒìƒ‰
- ê°’: 56px, bold, primary
- ë¼ë²¨: 18px

---

## 13. ì„±ëŠ¥ ìµœì í™”

### 13.1 API í˜¸ì¶œ ìµœì í™”

#### ë¹„ìš© ì ˆê° ì „ëµ
- **Gemini Flash ìš°ì„ **: Pro ëŒ€ë¹„ 5ë°° ì €ë ´
- **Flash-Lite íŒŒì‹±**: ì €ë‹¨ê°€ ëª¨ë¸ í™œìš©
- **í…œí”Œë¦¿ ì—”ì§„**: HTML ìƒì„± ë¹„ìš© 100% ì œê±°

#### ì‘ë‹µ ìºì‹±
```typescript
// ë™ì¼ í…ìŠ¤íŠ¸ ì¬ìƒì„± ë°©ì§€
const cache = new Map<string, UnifiedPPTJSON>();

function getCachedResult(text: string) {
  const hash = hashText(text);
  return cache.get(hash);
}
```

### 13.2 ë Œë”ë§ ìµœì í™”

#### Lazy Loading
```typescript
// í˜„ì¬ ìŠ¬ë¼ì´ë“œë§Œ ë Œë”ë§
const visibleSlides = slides.slice(
  currentIndex - 1,
  currentIndex + 2
);
```

#### Intersection Observer
```typescript
// ë·°í¬íŠ¸ ì§„ì… ì‹œ ë¡œë“œ
useEffect(() => {
  const observer = new IntersectionObserver(
    (entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          loadSlide(entry.target.dataset.index);
        }
      });
    }
  );
  // ...
}, []);
```

### 13.3 ì €ì¥ì†Œ ìµœì í™”

#### ì¸ë„¤ì¼ ì••ì¶•
```typescript
// Canvas â†’ WebP ì••ì¶•
const thumbnail = canvas.toDataURL('image/webp', 0.7);
```

#### ìë™ ì •ë¦¬
```typescript
// 30ì¼ ì´ìƒ ë¯¸ì‚¬ìš© í”„ë¦¬ì  í…Œì´ì…˜ ì‚­ì œ
function cleanupOldPresentations() {
  const threshold = Date.now() - 30 * 24 * 60 * 60 * 1000;
  // ...
}
```

### 13.4 ë²ˆë“¤ ìµœì í™”

#### Dynamic Import
```typescript
// í”„ë¦¬ë¯¸ì—„ í…œí”Œë¦¿ ë™ì  ë¡œë“œ
const template = await import(
  `./premium/${templateId}/index.ts`
);
```

#### Tree Shaking
- ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” í…œí”Œë¦¿ ì œê±°
- TDS Mobile ì»´í¬ë„ŒíŠ¸ ì„ íƒì  import

---

## 14. ë³´ì•ˆ ë° ì—ëŸ¬ ì²˜ë¦¬

### 14.1 í™˜ê²½ ë³€ìˆ˜ ê´€ë¦¬

```env
# Database (ì„œë²„ ì „ìš©)
DATABASE_URL=postgresql://user:password@host:5432/database

# Supabase (ì„œë²„ ì „ìš©)
NEXT_PUBLIC_SUPABASE_URL=https://xxx.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...  # ì„œë²„ ì „ìš©

# NextAuth (ì„œë²„ ì „ìš©)
NEXTAUTH_URL=http://localhost:3000
NEXTAUTH_SECRET=your_random_secret_here
GITHUB_CLIENT_ID=your_github_client_id
GITHUB_CLIENT_SECRET=your_github_client_secret
GOOGLE_CLIENT_ID=your_google_client_id
GOOGLE_CLIENT_SECRET=your_google_client_secret

# AI Services
NEXT_PUBLIC_GEMINI_API_KEY=your_gemini_key  # í´ë¼ì´ì–¸íŠ¸ ë…¸ì¶œ ê°€ëŠ¥
PERPLEXITY_API_KEY=your_perplexity_key      # ì„œë²„ ì „ìš©
```

**ì£¼ì˜ì‚¬í•­**:
- `NEXT_PUBLIC_` ì ‘ë‘ì‚¬: ë¸Œë¼ìš°ì €ì— ë…¸ì¶œë˜ëŠ” í™˜ê²½ ë³€ìˆ˜
- `SUPABASE_SERVICE_ROLE_KEY`: ì„œë²„ ì „ìš©, ì ˆëŒ€ í´ë¼ì´ì–¸íŠ¸ ë…¸ì¶œ ê¸ˆì§€
- `NEXTAUTH_SECRET`: í”„ë¡œë•ì…˜ í™˜ê²½ì—ì„œëŠ” ê°•ë ¥í•œ ëœë¤ ë¬¸ìì—´ ì‚¬ìš©
- `DATABASE_URL`: Supabase PostgreSQL ì—°ê²° ë¬¸ìì—´ (Prisma ì‚¬ìš©)

### 14.2 API ì—ëŸ¬ ì²˜ë¦¬

#### Gemini API ì—ëŸ¬

```typescript
try {
  const result = await generateHTML(request);
} catch (error) {
  if (error.code === 'QUOTA_EXCEEDED') {
    showError('ì¼ì¼ ìƒì„± í•œë„ë¥¼ ì´ˆê³¼í–ˆì–´ìš”.');
  } else if (error.code === 'INVALID_REQUEST') {
    showError('ì…ë ¥ í…ìŠ¤íŠ¸ë¥¼ ë‹¤ì‹œ í™•ì¸í•´ì£¼ì„¸ìš”.');
  } else {
    showError('ìŠ¬ë¼ì´ë“œ ìƒì„±ì— ì‹¤íŒ¨í–ˆì–´ìš”. ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.');
  }
}
```

#### Storage ì—ëŸ¬

```typescript
try {
  await savePresentation(presentation);
} catch (error) {
  if (error.code === 'STORAGE_FULL') {
    showError('ì €ì¥ ê³µê°„ì´ ë¶€ì¡±í•´ìš”. ì´ì „ í”„ë¦¬ì  í…Œì´ì…˜ì„ ì‚­ì œí•´ì£¼ì„¸ìš”.');
  } else {
    showError('ì €ì¥ì— ì‹¤íŒ¨í–ˆì–´ìš”.');
  }
}
```

### 14.3 ì…ë ¥ ê²€ì¦

#### í…ìŠ¤íŠ¸ ì…ë ¥ ê²€ì¦

```typescript
function validateInput(text: string): ValidationResult {
  if (text.length < 10) {
    return { valid: false, error: 'ìµœì†Œ 10ì ì´ìƒ ì…ë ¥í•´ì£¼ì„¸ìš”.' };
  }
  if (text.length > 10000) {
    return { valid: false, error: 'ìµœëŒ€ 10,000ìê¹Œì§€ ì…ë ¥ ê°€ëŠ¥í•´ìš”.' };
  }
  return { valid: true };
}
```

#### XSS ë°©ì§€

```typescript
// HTML ìƒì„± ì‹œ escape ì²˜ë¦¬
function escapeHtml(text: string): string {
  return text
    .replace(/&/g, '&amp;')
    .replace(/</g, '&lt;')
    .replace(/>/g, '&gt;')
    .replace(/"/g, '&quot;')
    .replace(/'/g, '&#039;');
}
```

### 14.4 UX Writing ê·œì¹™

**ëª¨ë“  ì‚¬ìš©ì ëŒ€ë©´ í…ìŠ¤íŠ¸ëŠ” Apps in Toss UX Writing ê°€ì´ë“œ ì¤€ìˆ˜**

1. **~í•´ìš”ì²´ ì‚¬ìš©**: ëª¨ë“  ë¬¸êµ¬ì— "~í•´ìš”" ì–´ë¯¸
   - âŒ "ê²€ìƒ‰ ì¤‘...", "ë¡œë”© ì¤‘..."
   - âœ… "ê²€ìƒ‰í•˜ê³  ìˆì–´ìš”", "ë¶ˆëŸ¬ì˜¤ê³  ìˆì–´ìš”"

2. **ëŠ¥ë™ì  ë§í•˜ê¸°**: ëŠ¥ë™í˜• ë¬¸ì¥ ì‚¬ìš©
   - âŒ "ëì–´ìš”", "ì™„ë£Œëì–´ìš”"
   - âœ… "í–ˆì–´ìš”", "ì™„ë£Œí–ˆì–´ìš”"

3. **ê¸ì •ì  ë§í•˜ê¸°**: ë¶€ì •í˜• ìµœì†Œí™”, ëŒ€ì•ˆ ì œì‹œ
   - âŒ "ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ì–´ìš”" (ë‹¨ë…)
   - âœ… "ê²€ìƒ‰ ê²°ê³¼ë¥¼ ì°¾ì§€ ëª»í–ˆì–´ìš”. ë‹¤ë¥¸ í‚¤ì›Œë“œë¡œ ì‹œë„í•´ë³´ì„¸ìš”."

---

## 15. í–¥í›„ ê°œì„ ì‚¬í•­

### 15.1 Phase 1: ê¸°ë³¸ í…œí”Œë¦¿ ì‹œìŠ¤í…œ (ì™„ë£Œ)

- âœ… í…œí”Œë¦¿ ì—”ì§„ ì½”ì–´ êµ¬í˜„
- âœ… Gemini HTML íŒ¨í„´ ë¶„ì„ ì™„ë£Œ
- âœ… 4ê°œ ê¸°ë³¸ íƒ€ì… í…œí”Œë¦¿ êµ¬í˜„
- âœ… Presentation íƒ€ì… í™•ì¥
- âœ… ìƒì„± í”Œë¡œìš° í†µí•©

### 15.2 Phase 2: í¸ì§‘ ê¸°ëŠ¥ (1ì£¼)

- ğŸ“ Editor í˜ì´ì§€ êµ¬ì¶•
- ğŸ“ ìŠ¬ë¼ì´ë“œ íƒ€ì…ë³„ í¸ì§‘ í¼
- ğŸ“ ì‹¤ì‹œê°„ ë¯¸ë¦¬ë³´ê¸°
- ğŸ“ ì €ì¥ ë° ì—…ë°ì´íŠ¸ ë¡œì§

### 15.3 Phase 3: ë‚˜ë¨¸ì§€ í…œí”Œë¦¿ (1ì£¼)

- ğŸ“ 8ê°œ ì¶”ê°€ ìŠ¬ë¼ì´ë“œ íƒ€ì…
  - TableSlide
  - ChartSlide
  - StatsSlide
  - ComparisonSlide
  - TimelineSlide
  - QuoteSlide
  - ThankYouSlide
  - TwoColumnSlide

### 15.4 Phase 4: í”„ë¦¬ë¯¸ì—„ í…œí”Œë¦¿ (2ì£¼)

- ğŸ“ ë™ì  í…œí”Œë¦¿ ë¡œë”
- ğŸ“ í…œí”Œë¦¿ ë ˆì§€ìŠ¤íŠ¸ë¦¬
- ğŸ“ í…œí”Œë¦¿ ì„ íƒ UI
- ğŸ“ 10ê°œ í”„ë¦¬ë¯¸ì—„ í…œí”Œë¦¿ ì œì‘

### 15.5 Phase 5: ìˆ˜ìµí™” (1ì£¼)

- ğŸ“ ì¸ì•± ê²°ì œ ì—°ë™ (Apps in Toss IAP)
- ğŸ“ í…œí”Œë¦¿ ìŠ¤í† ì–´ UI
- ğŸ“ êµ¬ë… ëª¨ë¸ êµ¬í˜„

### 15.6 Long-term (Phase 6+)

- ğŸ“ í˜‘ì—… ê¸°ëŠ¥ (ê³µë™ í¸ì§‘)
- ğŸ“ í´ë¼ìš°ë“œ ë™ê¸°í™”
- ğŸ“ PDF ë‚´ë³´ë‚´ê¸°
- ğŸ“ ë°œí‘œì ë…¸íŠ¸
- ğŸ“ ì• ë‹ˆë©”ì´ì…˜ íš¨ê³¼
- ğŸ“ ì°¨íŠ¸ ë°ì´í„° ì‹œê°í™”
- ğŸ“ ì´ë¯¸ì§€ ì—…ë¡œë“œ ë° ì‚½ì…

---

## 16. ë¶€ë¡

### 16.1 ìš©ì–´ ì •ë¦¬

| ìš©ì–´ | ì„¤ëª… |
|------|------|
| UnifiedPPTJSON | êµ¬ì¡°í™”ëœ ìŠ¬ë¼ì´ë“œ ë°ì´í„° (í¸ì§‘ ê°€ëŠ¥) |
| HTMLSlide | ë Œë”ë§ìš© HTML ë¬¸ìì—´ |
| SlideTemplate | ìŠ¬ë¼ì´ë“œ íƒ€ì…ë³„ HTML ìƒì„± í…œí”Œë¦¿ |
| TemplateEngine | í…œí”Œë¦¿ ê¸°ë°˜ HTML ìƒì„± ì—”ì§„ |
| TemplateRegistry | í…œí”Œë¦¿ ë“±ë¡ ë° ê´€ë¦¬ ì‹œìŠ¤í…œ |
| Bedrock SDK | Apps in Toss í”Œë«í¼ API |
| TDS Mobile | í† ìŠ¤ ë””ìì¸ ì‹œìŠ¤í…œ (WebView ì „ìš©) |

### 16.2 ì°¸ì¡° ë¬¸ì„œ

#### ë‚´ë¶€ ë¬¸ì„œ
- [ARCHITECTURE.md](../ARCHITECTURE.md) - ìƒì„¸ ì•„í‚¤í…ì²˜
- [í…œí”Œë¦¿_ì‹œìŠ¤í…œ_ì„¤ê³„ì„œ.md](../claudedocs/í…œí”Œë¦¿_ì‹œìŠ¤í…œ_ì„¤ê³„ì„œ.md) - í…œí”Œë¦¿ ì‹œìŠ¤í…œ ìƒì„¸
- [ì›ê°€ ë¶„ì„.md](../ì›ê°€ ë¶„ì„.md) - AI ë¹„ìš© ë¶„ì„
- [ìˆ˜ìµ ëª¨ë¸.md](../ìˆ˜ìµ ëª¨ë¸.md) - ë¹„ì¦ˆë‹ˆìŠ¤ ëª¨ë¸

#### ì™¸ë¶€ ë¬¸ì„œ
- [Apps in Toss ê³µì‹](https://developers-apps-in-toss.toss.im)
- [TDS Mobile ê³µì‹](https://tossmini-docs.toss.im/tds-mobile/)
- [Bedrock SDK ë ˆí¼ëŸ°ìŠ¤](../../docs/reference/bedrock/)
- [ê³µì‹ ì˜ˆì œ](../../example/)

### 16.3 ìˆ˜ìµ ì‹œë®¬ë ˆì´ì…˜

#### ì‹œë‚˜ë¦¬ì˜¤ A: í…œí”Œë¦¿ íŒë§¤ ì¤‘ì‹¬

```
ì›” í™œì„± ì‚¬ìš©ì: 1,000ëª…
í…œí”Œë¦¿ êµ¬ë§¤ (20%): 200ëª… Ã— â‚©1,990 = â‚©398,000
êµ¬ë… Pro (10%): 100ëª… Ã— â‚©4,900 = â‚©490,000
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ì›” ë§¤ì¶œ: â‚©888,000
ì›” ì›ê°€: â‚©51,000 (API)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ìˆœì´ìµ: â‚©837,000 (94% ë§ˆì§„)
```

#### ì‹œë‚˜ë¦¬ì˜¤ B: êµ¬ë… ëª¨ë¸ ì¤‘ì‹¬

```
ì›” í™œì„± ì‚¬ìš©ì: 5,000ëª…
êµ¬ë… Pro (16%): 800ëª… Ã— â‚©4,900 = â‚©3,920,000
êµ¬ë… Enterprise (4%): 200ëª… Ã— â‚©49,000 = â‚©9,800,000
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ì›” ë§¤ì¶œ: â‚©13,720,000
ì›” ì›ê°€: â‚©420,000 (API)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ìˆœì´ìµ: â‚©13,300,000 (97% ë§ˆì§„)
```

---

**ë¬¸ì„œ ë²„ì „**: 1.0.0
**ì‘ì„±ì**: Claude Code
**ìµœì¢… ìˆ˜ì •**: 2025-10-30
**ê²€í†  ìƒíƒœ**: ìŠ¹ì¸ ì™„ë£Œ
